<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.itheima.health.dao.OrderSettingListDao">
    <!--<resultMap id="listMap" type="orderSettingList">
        <result column="name" property="setmealName"></result>
    </resultMap>-->
    <!--分页查询数据-->
    <select id="findPage" parameterType="string" resultType="orderSettingList">
        SELECT o.id,m.name,o.`orderDate`,o.orderType,o.orderStatus,s.name as setmealName FROM t_member m ,t_order o,t_setmeal s WHERE o.member_id = m.id AND s.id = o.`setmeal_id` AND o.orderdate = #{value}
    </select>

    <!--更新就诊状态-->
    <update id="update" parameterType="int">
        UPDATE t_order SET orderStatus = '已就诊' WHERE id= #{id}
    </update>
</mapper>